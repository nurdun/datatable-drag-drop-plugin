<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.1/css/buttons.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.2.4/css/select.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/rowreorder/1.2.3/css/rowReorder.dataTables.min.css">
    <link rel="stylesheet" href="./stylesheets/dataTable.css">
    <title>dataTable</title>
</head>
<body>
        <button id="res" type="button">reset order</button>

    <table id="ConfigMenuTable" class="display" width="100%" cellspacing="0"></table>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="drag-drop.js"></script>
    <script>
        $(document).ready(function() {
            var testData = [
                    { 
                        "MONTH":"2",
                        "TIME":"15:00",
                        "TEXT":"Blah",
                        "category":"A"
                    },
                    { 
                        "MONTH":"1",
                        "TIME":"14:21",
                        "TEXT":"Blah",
                        "category":"B"
                    },
                    { 
                        "MONTH":"1",
                        "TIME":"14:21",
                        "TEXT":"Blah",
                        "category":"B"
                    },
                    { 
                        "MONTH":"4",
                        "TIME":"13:00",
                        "TEXT":"Blah2",
                        "category":"A"
                    },
                    { 
                        "MONTH":"6",
                        "TIME":"10:00",
                        "TEXT":"Blah3",
                        "category":"B"
                    },
                    { 
                        "MONTH":"7",
                        "TIME":"10:00",
                        "TEXT":"Blah3",
                        "category":"B"
                    },
                    { 
                        "MONTH":"4",
                        "TIME":"13:00",
                        "TEXT":"Blah4",
                        "category":"A"
                    },
                    { 
                        "MONTH":"6",
                        "TIME":"10:00",
                        "TEXT":"Blah4",
                        "category":"B"
                    },
                    { 
                        "MONTH":"7",
                        "TIME":"10:00",
                        "TEXT":"Blah5",
                        "category":"A"
                    },
                    { 
                        "MONTH":null,
                        "TIME":null,
                        "TEXT":null,
                        "category":"A"
                    }
                ]
            
            let table = $('#ConfigMenuTable').DataTable({
                'createdRow': function (row, data, dataIndex) {
                    $(row).attr('category', data.category);
                    if (data.category == "A") {
                        $(row).attr('draggable', true);
                    }
                },
                data: testData,
                serverSide: false,
                ordering: false,


                columns: [{
                    data: 'MONTH',
                }, {
                    data: 'TIME',
                }, {
                    data: 'TEXT',
                }]
            });
            let selector = '#ConfigMenuTable';
            let dragDroppable = new TableDragAndDrop(selector, testData, table);
        });
    </script>
</body>
</html>